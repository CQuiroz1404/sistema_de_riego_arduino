<div class="container mx-auto px-4 py-8"> <div class="flex justify-between items-center mb-8"> <h1 class="text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3"> <i class="fas fa-microchip text-blue-500"></i> Mis Dispositivos </h1> <a href="/devices/create" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm flex items-center gap-2"> <i class="fas fa-plus"></i> Nuevo Dispositivo </a> </div> {{#if devices}} {{#if (gt devices.length 0)}} <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"> <div class="overflow-x-auto"> <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700"> <thead class="bg-gray-50 dark:bg-gray-700/50"> <tr> <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Nombre</th> <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Ubicación</th> <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Estado</th> <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Última Conexión</th> <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Sensores</th> <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Actuadores</th> <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider">Acciones</th> </tr> </thead> <tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"> {{#each devices}} <tr class="hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"> <td class="px-6 py-4 whitespace-nowrap"> <div class="text-sm font-bold text-gray-900 dark:text-white">{{this.nombre}}</div> </td> <td class="px-6 py-4 whitespace-nowrap"> <div class="text-sm text-gray-500 dark:text-gray-400">{{#if this.ubicacion}}{{this.ubicacion}}{{else}}-{{/if}}</div> </td> <td class="px-6 py-4 whitespace-nowrap"> <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-{{#if (eq this.estadoConexion 'encendido')}}green{{else}}red{{/if}}-100 text-{{#if (eq this.estadoConexion 'encendido')}}green{{else}}red{{/if}}-800 dark:bg-{{#if (eq this.estadoConexion 'encendido')}}green{{else}}red{{/if}}-900/30 dark:text-{{#if (eq this.estadoConexion 'encendido')}}green{{else}}red{{/if}}-400"> <i class="fas fa-circle text-xs mr-1"></i> {{this.estadoConexion}} </span> <span class="px-2 inline-flex text-xs leading-5 font-medium rounded-full bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 ml-1"> {{this.estado}} </span> </td> <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"> {{#if this.ultima_conexion}} {{formatDate this.ultima_conexion}} {{else}} Nunca {{/if}} </td> <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"> {{#if this.total_sensores}}{{this.total_sensores}}{{else}}0{{/if}} </td> <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400"> {{#if this.total_actuadores}}{{this.total_actuadores}}{{else}}0{{/if}} </td> <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"> <a href="/devices/{{this.id}}" class="text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300 inline-block" title="Ver"> <i class="fas fa-eye"></i> </a> <a href="/devices/{{this.id}}/edit" class="text-yellow-600 dark:text-yellow-400 hover:text-yellow-900 dark:hover:text-yellow-300 inline-block" title="Editar"> <i class="fas fa-edit"></i> </a> <button onclick="deleteDevice({{this.id}})" class="text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 inline-block" title="Eliminar"> <i class="fas fa-trash"></i> </button> </td> </tr> {{/each}} </tbody> </table> </div> </div> {{else}} <div class="text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-dashed border-gray-300 dark:border-gray-700"> <div class="w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"> <i class="fas fa-inbox text-2xl text-gray-400"></i> </div> <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-1">No hay dispositivos</h3> <p class="text-gray-500 dark:text-gray-400 mb-6">Comienza agregando tu primer dispositivo Arduino</p> <a href="/devices/create" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm inline-flex items-center gap-2"> <i class="fas fa-plus"></i> Agregar Dispositivo </a> </div> {{/if}} {{else}} <div class="text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-dashed border-gray-300 dark:border-gray-700"> <div class="w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"> <i class="fas fa-inbox text-2xl text-gray-400"></i> </div> <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-1">No hay dispositivos</h3> <p class="text-gray-500 dark:text-gray-400 mb-6">Comienza agregando tu primer dispositivo Arduino</p> <a href="/devices/create" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors shadow-sm inline-flex items-center gap-2"> <i class="fas fa-plus"></i> Agregar Dispositivo </a> </div> {{/if}} </div>

{{{scripts}}}
<script src="/js/devices.js"></script>
